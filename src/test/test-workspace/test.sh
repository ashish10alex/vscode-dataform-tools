#!/bin/bash


echo '{\n    \"tables\": [\n        {\n            \"type\": \"table\",\n            \"target\": {\n                \"schema\": \"electric_cars\",\n                \"name\": \"0100_TEST\",\n                \"database\": \"drawingfire-b72a8\"\n            },\n            \"query\": \"WITH CTE1 AS (  SELECT    MAKE    , COUNTY    , CITY    , STATE    , POSTAL_CODE    , MODEL    , MODEL_YEAR    , COUNT(VIN) AS CNT_VIN  FROM `drawingfire-b72a8.electric_cars.ALL_EV_CARS_DATA`  GROUP BY MAKE, COUNTY, CITY, STATE, POSTAL_CODE, MODEL, MODEL_YEAR  HAVING MAKE = 'TESLA'), CTE2 AS (  SELECT    MAKE    , COUNTY    , CITY    , STATE    , POSTAL_CODE    , MODEL    , MODEL_YEAR    , COUNT(VIN) AS CNT_VIN  FROM `drawingfire-b72a8.electric_cars.ALL_EV_CARS_DATA`  GROUP BY MAKE, COUNTY, CITY, STATE, POSTAL_CODE, MODEL, MODEL_YEAR  HAVING MAKE = 'TESLA'), FINAL_TABLE AS (  SELECT * FROM CTE1  UNION ALL  SELECT * FROM CTE2)SELECT * FROM FINAL_TABLE\",\n            \"disabled\": false,\n            \"fileName\": \"definitions/0100_TEST.sqlx\",\n            \"tags\": [\n                \"TAG_1\"\n            ],\n            \"dependencyTargets\": [\n                {\n                    \"schema\": \"electric_cars\",\n                    \"name\": \"ALL_EV_CARS_DATA\",\n                    \"database\": \"drawingfire-b72a8\"\n                }\n            ],\n            \"canonicalTarget\": {\n                \"schema\": \"electric_cars\",\n                \"name\": \"0100_TEST\",\n                \"database\": \"drawingfire-b72a8\"\n            },\n            \"enumType\": \"TABLE\"\n        },\n        {\n            \"type\": \"table\",\n            \"target\": {\n                \"schema\": \"electric_cars\",\n                \"name\": \"0200_TEST\",\n                \"database\": \"drawingfire-b72a8\"\n            },\n            \"query\": \"SELECT *FROM `drawingfire-b72a8.electric_cars.0100_TEST`\",\n            \"disabled\": false,\n            \"fileName\": \"definitions/0200_TEST.sqlx\",\n            \"tags\": [\n                \"TAG_2\"\n            ],\n            \"dependencyTargets\": [\n                {\n                    \"schema\": \"electric_cars\",\n                    \"name\": \"0100_TEST\",\n                    \"database\": \"drawingfire-b72a8\"\n                }\n            ],\n            \"canonicalTarget\": {\n                \"schema\": \"electric_cars\",\n                \"name\": \"0200_TEST\",\n                \"database\": \"drawingfire-b72a8\"\n            },\n            \"enumType\": \"TABLE\"\n        }\n    ],\n    \"projectConfig\": {\n        \"warehouse\": \"bigquery\",\n        \"defaultSchema\": \"electric_cars\",\n        \"assertionSchema\": \"dataform_assertions\",\n        \"defaultDatabase\": \"drawingfire-b72a8\",\n        \"defaultLocation\": \"europe-west2\"\n    },\n    \"graphErrors\": {},\n    \"declarations\": [\n        {\n            \"target\": {\n                \"schema\": \"electric_cars\",\n                \"name\": \"ALL_EV_CARS_DATA\",\n                \"database\": \"drawingfire-b72a8\"\n            },\n            \"fileName\": \"definitions/declarations/sources.js\",\n            \"canonicalTarget\": {\n                \"schema\": \"electric_cars\",\n                \"name\": \"ALL_EV_CARS_DATA\",\n                \"database\": \"drawingfire-b72a8\"\n            }\n        }\n    ],\n    \"dataformCoreVersion\": \"3.0.0-beta.5\",\n    \"targets\": [\n        {\n            \"schema\": \"electric_cars\",\n            \"name\": \"0100_TEST\",\n            \"database\": \"drawingfire-b72a8\"\n        },\n        {\n            \"schema\": \"electric_cars\",\n            \"name\": \"0200_TEST\",\n            \"database\": \"drawingfire-b72a8\"\n        },\n        {\n            \"schema\": \"electric_cars\",\n            \"name\": \"ALL_EV_CARS_DATA\",\n            \"database\": \"drawingfire-b72a8\"\n        }\n    ]\n}\n\n' | fx
